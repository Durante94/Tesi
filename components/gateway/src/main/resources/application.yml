spring:
  main:
    web-application-type: reactive
  application:
    name: gateway
  cloud:
    inetutils:
      timeout-seconds: 10
    gateway:
      httpclient:
        websocket:
          max-frame-payload-length : 104857600
      routes: 
        # Favicon
        - id: favicon
          uri: forward:///favicon.ico
          predicates:
            - Path=**/favicon.ico
        # fe 
        - id: frontend
          predicates:
            - Path=/web/**
          filters:
            - CheckAuth
            - TokenRelayFilter
            # - RewritePath=/web(?<segment>/?.*), $\{segment}
          uri: http://localhost:3000
        # Activity service
        - id: rest-service
          predicates:
            - Path=/api/**
          uri: http://localhost:8000
          filters:
           - CheckAuth
           - TokenRelayFilter
server:
  port: 7080
  netty:
    max-initial-line-length : 50MB

logging:
  level:
    root: INFO
    
auth:
  enable: false
  mockrole: ADMIN
  showjwt: true
  secret:  E03JKtneTWHrWRb6LBM5MXpTECtviKrr
  
keycloack:
  realm: Tesi
  clientid: tesi-app
  feingress: http://localhost:7080
  oidcaddr: https://192.168.252.214:32493/auth